<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiafy - <%= login %></title>
    <link rel="shortcut icon" href="img/icon.png" type="image/x-icon">
    <!--React-->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <!--jQuery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
    <!--Babel-->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!--Axios-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital@1&display=swap" rel="stylesheet">
    <!--CSS-->
    <link rel="stylesheet" href="css/profile.css" >
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/indent.css">
    <!--JS-->
    <script src="js/profile_settings.js"></script>
</head>
<body>
    <!--Navigation panel-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" style="margin-right: 8px;">
                <%- `<img class="Nicon" src='${photo}'></img>` %> 
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class ="nav-link" href="/">Главная страница</a>
                <a class ="nav-link" href="/about">О сайте</a>
            </div>
            </div>
        </div>
    </nav>
    <div class="d-flex justify-content-center">
        <div class="lenta navbar-dark bg-dark">
            <div class="lentaDiv">
                <a href="/profile-settings">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="lentaI lentaIH" class="bi bi-gear" viewBox="0 0 16 16">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
                    </svg>
                </a>
                <p href="/profile-add" class="p">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="selected" class="lentaI lentaIH" class="bi bi-plus-square" viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                    </svg>
                </p>
                <a href="/profile">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="lentaI lentaIH" class="bi bi-journals" viewBox="0 0 16 16">
                        <path d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2z"/>
                        <path d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0z"/>
                    </svg>
                </a>
            </div>
        </div>
        <div class="content">
            <% if(inform === true) { %>
                <%-'<div class="alert alert-success" role="alert" style="border: none;">Сохранено</div>' %>
            <% } else if(inform === false) { %> 
                <%-'<div class="alert alert-danger" role="alert" style="border: none;">Что-то пошло не так</div>' %>
            <% } else if(inform === 'Little symbols or many symbols') { %> 
                <%-'<div class="alert alert-danger" role="alert" style="border: none;">Количество символов в тексте не должно быть меньше 8, в имени автора - 4 и более 255, в заголовке - 8 и более 255</div>' %>
            <% } else if(inform === 'There is a latin or numbers') { %> 
                <%-'<div class="alert alert-danger" role="alert" style="border: none;">Присутствуют цифры. Просим отметить, что цифры в цитатах и заголовках запрещены</div>' %>
            <% } %> 
            <h5>Добавить цитату/историю/запись в дневник</h5>
            <!--Button-->
            <div class="btn-group">
                <button class="btn btn-secondary dropdown-toggle"  data-bs-toggle="dropdown" aria-expanded="false">Выберите тип записи</button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a data-bs-toggle="collapse" href="#DiaryEntry" role="button" aria-expanded="false" aria-controls="DiaryEntry" class="dropdown-item" type="button">Запись в дневник</a></li>
                    <li><a data-bs-toggle="collapse" href="#LifeStory" role="button" aria-expanded="false" aria-controls="LifeStory" class="dropdown-item" type="button">История из жизни</a></li>
                    <li><a data-bs-toggle="collapse" href="#Quote" role="button" aria-expanded="false" aria-controls="Quote" class="dropdown-item" type="button">Цитата</a></li>
                </ul>
            </div>
            <!--Content-->
            <div>
                <div class="collapse" id="DiaryEntry">
                    <div class="card card-body">
                        <h5>Добавить запись в дневник</h5>
                        <h6>Внимание! Видео можно загрузить длительностью не больше одной минуты и количество файлов не более 10!</h6>
                        <form action="add-diaryentry" method="post" enctype="multipart/form-data">
                            <div>
                                <input type="file" accept=".jpg, .jpeg, .png, .gif, .mp4, .avi, .webm, .tiff" name='File' multiple> 
                                <input type="date" name="Date" class="calendar">
                            </div>
                            <textarea name="Text" class="text"></textarea>
                            <button type="submit" class="btn btn-secondary">Отправить</button>
                        </form>
                    </div>
                </div>
                <div class="collapse" id="LifeStory">
                    <div class="card card-body">
                        <h5>Добавить историю</h5>
                        <h6>Внимание! Фото необязательно, но если и будете ставить, то необходим баннер, где ширина больше высоты!</h6>
                        <form action="add-story" method="post" enctype="multipart/form-data">
                            <div>
                                <input type="file" accept=".jpg, .jpeg, .png, .gif, .tiff" name='File'> 
                            </div>
                            <input name="Title" class="title" placeholder="Заголовок"></input>
                            <textarea name="Text" class="text" placeholder="Текст"></textarea>
                            <button type="submit" class="btn btn-secondary">Отправить</button>
                        </form>
                    </div>
                </div>
                <div class="collapse" id="Quote">
                    <div class="card card-body">
                        <h5>Добавить цитату</h5>
                        <form action="add-quote" method="post">
                            <input type="text" class="author" name="Author" placeholder="Введите автора">
                            <textarea name="Text" class="text" placeholder="Текст"></textarea>
                            <button type="submit" class="btn btn-secondary">Отправить</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="div"></div>
        </div>
    </div>
    <script>
        // Calendar
        let date = new Date();
        date = [date.getFullYear(), date.getMonth() + 1, date.getDate()];
        if(date[1] < 9)
            date[1] = '0' + date[1]
        if(date[2] < 9)
            date[2] = '0' + date[2]
        $('.calendar').attr('max', `${date[0]}-${date[1]}-${date[2]}`)
        $('.calendar').attr('value', `${date[0]}-${date[1]}-${date[2]}`)
    </script>
</body>
</html>